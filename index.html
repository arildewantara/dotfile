<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Responsive Input Logger (Vercel)</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center; /* Center content vertically */
            min-height: 100vh;
            margin: 0;
            background-color: #e8f0fe; /* Light blue background, common for Google forms/login */
            color: #202124;
        }

        .form-card {
            background-color: #ffffff;
            padding: 40px;
            border-radius: 8px;
            /* More pronounced shadow for a floating card effect */
            box-shadow: 0 1px 3px rgba(60, 64, 67, 0.3), 0 4px 8px rgba(60, 64, 67, 0.15);
            width: 450px; /* Desired width on larger screens */
            max-width: 90%; /* Ensures it shrinks on smaller screens */
            text-align: center;
            box-sizing: border-box; /* Include padding in width calculation */
        }

        .form-card h1 {
            font-size: 24px;
            font-weight: 500;
            color: #3c4043;
            margin-bottom: 30px;
        }

        .form-group {
            margin-bottom: 25px;
            text-align: left; /* Align label and input to the left within their group */
        }

        .form-group label {
            display: block;
            font-size: 14px;
            color: #5f6368;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .form-group input[type="text"] {
            width: 100%; /* Make input take full width of its parent (.form-group) */
            padding: 12px;
            border: 1px solid #dadce0;
            border-radius: 4px;
            font-size: 16px;
            color: #202124;
            box-sizing: border-box; /* Include padding and border in width */
            transition: border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }

        .form-group input[type="text"]:focus {
            border-color: #1a73e8; /* Google blue on focus */
            outline: none;
            box-shadow: 0 0 0 1px #1a73e8; /* Subtle blue outline on focus */
        }

        .submit-button {
            background-color: #1a73e8; /* Google Blue */
            color: #ffffff;
            font-size: 16px;
            font-weight: 500;
            padding: 12px 24px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.2s, box-shadow 0.2s;
            min-width: 120px; /* Ensure a decent size */
        }

        .submit-button:hover {
            background-color: #1565c0; /* Darker blue on hover */
            box-shadow: 0 1px 3px rgba(0,0,0,0.2);
        }

        .submit-button:active {
            background-color: #0d47a1; /* Even darker blue on click */
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.2);
        }

        .message-area {
            margin-top: 25px;
            font-size: 14px;
            color: #5f6368;
        }

        .message-area.success {
            color: #188038; /* Green for success */
        }

        .message-area.error {
            color: #d93025; /* Red for error */
        }

        /* --- Responsive adjustments (Media Queries) --- */

        /* For screens smaller than 500px (e.g., most mobile phones) */
        @media (max-width: 500px) {
            .form-card {
                padding: 30px 20px; /* Reduce padding on smaller screens */
                border-radius: 0; /* Make it full width without rounded corners on very small screens */
                box-shadow: none; /* Remove shadow to blend with body */
                max-width: 100%; /* Take full width */
                min-height: 100vh; /* Make it fill screen vertically if needed */
                display: flex; /* Use flexbox to organize content vertically */
                flex-direction: column;
                justify-content: center; /* Center content inside the "card" */
            }

            .form-card h1 {
                font-size: 20px; /* Smaller heading */
                margin-bottom: 20px;
            }

            .form-group {
                margin-bottom: 20px; /* Slightly less margin */
            }

            .form-group input[type="text"] {
                padding: 10px; /* Smaller input padding */
                font-size: 15px;
            }

            .submit-button {
                width: 100%; /* Button takes full width on small screens */
                padding: 10px 15px; /* Smaller button padding */
                font-size: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="form-card">
        <h1>Welcome! Please Enter Your Text</h1>
        <form id="inputForm">
            <div class="form-group">
                <label for="userInput">Your text:</label>
                <input type="text" id="userInput" name="userInput" placeholder="Type something here...">
            </div>
            <button type="submit" class="submit-button">Send</button>
        </form>
        <p class="message-area" id="messageArea"></p>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const inputForm = document.getElementById('inputForm');
            const userInputField = document.getElementById('userInput');
            const messageArea = document.getElementById('messageArea');

            inputForm.addEventListener('submit', handleFormSubmission);

            async function handleFormSubmission(event) {
                event.preventDefault(); // Prevent default form submission (page reload)

                const inputValue = userInputField.value.trim();

                if (inputValue) {
                    messageArea.textContent = 'Submitting...';
                    messageArea.className = 'message-area'; // Reset class for styling

                    try {
                        // Vercel Serverless Function endpoint
                        const response = await fetch('/api/log-input', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify({ input: inputValue }), // Send the input value
                        });

                        const data = await response.json();

                        if (response.ok) {
                            messageArea.textContent = `Success: "${data.message}"`;
                            messageArea.classList.add('success');
                            userInputField.value = ''; // Clear input on success
                        } else {
                            messageArea.textContent = `Error: "${data.message}"`;
                            messageArea.classList.add('error');
                        }
                        console.log('Vercel Function response:', data);

                    } catch (error) {
                        messageArea.textContent = 'Failed to connect to server.';
                        messageArea.classList.add('error');
                        console.error('Error sending data to Vercel Function:', error);
                    }
                } else {
                    messageArea.textContent = 'Please enter some text.';
                    messageArea.classList.add('error');
                }
            }
        });
    </script>
</body>
</html>
